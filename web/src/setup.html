<!DOCTYPE html>
<html lang="en-US" class="dark">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!-- <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
    <meta http-equiv="Expires" content="Thu, 01 Jan 1970 00:00:00 GMT" /> -->
    <meta name="robots" content="noindex,nofollow">
    <meta name="referrer" content="origin">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="dark light">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <!-- MODAL START -->
    <div id="modal" tabindex="-1" class="modal hidden" aria-hidden="true" role="dialog">
        <div class="modal-backdrop-overlay">
            <!--   <div class="py-48 px-4 flex flex-col max-w-[650px] mx-auto text-gray-800 dark:text-white"> -->
            <div class="modal-main text-center max-w-xl py-16 px-2 xl:py-24 xl:px-36 text-gray-800 dark:text-gray-50">
                <div class="mt-2">
                    <svg class="w-28 h-28 mx-auto stroke-purple-500 dark:stroke-base-700 mb-6" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z">
                        </path>
                    </svg>
                    <h2 class="text-xl font-semibold">
                        tinyUPS is now restarting.
                    </h2>
                </div>
                <div class="mt-8">
                    <div class="mx-10 smdn:mx-5">
                        <p>If the data is correct you can find it connected to the WiFi you specified earlier and it can
                            be
                            accessed by IP in a
                            moment.</p>
                        <p>If something is wrong it will switch back to AP mode.</p>
                    </div>
                    <p class="mt-14 sm:w-90 text-sm">Now you may <b><i>close</i></b> this window</p>
                </div>
            </div>
            <!-- </div>-->
        </div>
    </div>
    <!-- MODAL END -->
    <!-- MODAL START -->
    <!-- <div id="modal-test" tabindex="-1" class="modal hidden" aria-hidden="true" role="dialog">
        <div class="flex flex-col justify-center items-center w-full h-screen bg-gray-900 bg-opacity-70">
            <div class="modal-main text-center w-[250px] py-16 px-4 xl:py-24 xl:px-36 text-gray-800 dark:text-gray-50">
                <x-loading>
                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                        style="margin: auto; background: none; display: block; shape-rendering: auto;" width="40px"
                        height="40px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
                        <circle cx="50" cy="50" fill="none" stroke="rgb(168,85,247)" stroke-width="10" r="35"
                            stroke-dasharray="164.93361431346415 56.97787143782138">
                            <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s"
                                values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
                        </circle>
                    </svg>
                </x-loading>
                <div class="mt-3 text-gray-800 dark:text-gray-100 font-mono text-base">Testing...</div>
            </div>
        </div>
    </div> -->
    <!-- MODAL END -->
    <!-- FORM START -->
    <section class="setup-wrapper">
        <div class="setup-container">
            <button type="button" class="reset-solo" data-tooltip-target="help-admin0" data-tooltip-placement="right"
                data-tooltip-trigger="hover" class="tooltip-sm-btn">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" height="1em" viewBox="0 0 512 512">
                    <path
                        d="M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z" />
                </svg>
            </button>
            <div id="help-admin0" role="tooltip" class="tooltip-sm invisible">
                Restart the device
                <div class="tooltip-arrow" data-popper-arrow></div>
            </div>
            <button type="button" class="dmode-solo" id="dmode">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" height="1em" viewBox="0 0 384 512">
                    <path
                        d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z" />
                </svg>
            </button>
            <div class="flex flex-col mx-auto text-center my-6">
                <h1 class="text-3xl font-bold mb-4">tinyUPS</h1>
                <p class="text-sm font-narrow">
                    Welcome! Your device will be ready shortly after you'll provide the following data.
                </p>
            </div>
            <form name="setup" class="form-wrapper smdn:mx-2 mx-4" method="POST" action="/" autocomplete="off">
                <div class="p-2 w-full">
                    <div class="header-cut-off"></div>
                    <div class="flex py-2 mb-2 justify-between relative">
                        <div class="inline-flex">
                            <svg class="w-8 h-8 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4">
                                </path>
                            </svg>
                            <h4 class="sub-header">
                                Admin access
                            </h4>
                        </div>
                        <button data-tooltip-target="help-admin1" data-tooltip-placement="left"
                            data-tooltip-trigger="hover" type="button" class="tooltip-sm-btn"></button>
                        <div id="help-admin1" role="tooltip" class="tooltip-sm invisible">
                            The credentials used to obtain access to Dashboard panel. These can be
                            changed later in Config.
                            <div class="tooltip-arrow" data-popper-arrow></div>
                        </div>
                    </div>
                </div>
                <div class="flex-form-block">
                    <div class="relative">
                        <label>Login</label>
                        <input type="text" name="login" minlength="2" maxlength="12" required />
                    </div>
                </div>
                <div class="flex-form-block">
                    <div class="relative">
                        <label>Password</label>
                        <div class="relative inline-flex place-content-center w-full">
                            <input type="password" name="pass" minlength="6" maxlength="12" required />
                            <button type="button" class="showkey">
                                <img src="svg/eye.svg" width="20px" />
                            </button>
                        </div>
                    </div>
                </div>
                <div class="p-2 w-full mt-8">
                    <div class="header-cut-off"></div>
                    <div class="flex py-2 mb-2 justify-between relative">
                        <div class="inline-flex">
                            <svg class="w-8 h-8 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0">
                                </path>
                            </svg>
                            <h4 class="sub-header">
                                WiFi Access Point
                            </h4>
                        </div>
                        <button data-tooltip-target="help-wifi1" data-tooltip-placement="left"
                            data-tooltip-trigger="hover" type="button" class="tooltip-sm-btn"></button>
                        <div id="help-wifi1" role="tooltip" class="tooltip-sm invisible">
                            tinyUPS will be permanently connected to this AP, that's also the network for SNMP
                            broadcasting. You can change it later in Config.
                            <div class="tooltip-arrow" data-popper-arrow></div>
                        </div>
                    </div>
                </div>
                <div class="flex-form-block">
                    <div class="relative">
                        <label>SSID</label>
                        <div class="flex mx-auto overflow-hidden">
                            <select name="ssid"></select>
                            <button id="dosurvey" title="Refresh WiFi networks">
                                <!-- <img src="svg/refr.svg" width="20px"> -->
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="20px">
                                    <path fill="currentColor"
                                        d="M12.35,2.34l.72-.09a.6.6,0,0,0,.52-.67.58.58,0,0,0-.66-.51l-2.19.27a.61.61,0,0,0-.52.66l.27,2.21a.6.6,0,0,0,.67.52.59.59,0,0,0,.51-.66l-.1-.83a5.93,5.93,0,0,1,2.12,6.61A6,6,0,0,1,8,14a.6.6,0,1,0,0,1.19,7.17,7.17,0,0,0,6.78-5,7.09,7.09,0,0,0-2.47-7.87Z" />
                                    <path fill="currentColor"
                                        d="M5.5,11.79a.59.59,0,0,0-.66-.52.6.6,0,0,0-.52.66l.1.83A6,6,0,0,1,8,2a.59.59,0,0,0,.63-.58A.59.59,0,0,0,8,.83,7.15,7.15,0,0,0,3.65,13.66l-.72.09a.6.6,0,0,0-.52.67.59.59,0,0,0,.66.52l2.19-.28A.6.6,0,0,0,5.78,14L5.5,11.79Z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="flex-form-block">
                    <div class="relative">
                        <label>Key</label>
                        <div class="relative inline-flex place-content-center w-full">
                            <input type="password" name="ssidkey" maxlength="30" required />
                            <button type="button" class="showkey">
                                <img src="svg/eye.svg" width="20px" />
                            </button>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col mt-8 w-full">
                    <input type="submit" value="Setup" />
                </div>
                <div class="setup-form-footer">
                    <span class="pl-2 cursor-help">
                        <span class="ap-mac-address" data-tooltip-target="help-ap-mac" data-tooltip-placement="top"
                            data-tooltip-trigger="hover"></span>
                        <div id="help-ap-mac" role="tooltip" class="tooltip-sm invisible">
                            The device MAC address may be useful when creating a DNS record or assigning a
                            static IP address.
                            <div class="tooltip-arrow" data-popper-arrow></div>
                        </div>
                    </span>
                    <span class="pr-2">
                        <a href="https://github.com/way5/tinyUPS" title="Jump to GitHub">
                            <img class="m-2 inline" src="svg/gth.svg" width="15px" height="15px">
                            tinyUPS&nbsp;/&nbsp;
                            2022&ndash;
                            <script>document.write(new Date().getFullYear())</script>
                        </a>
                    </span>
                </div>
            </form>
        </div>
    </section>
    <!-- FORM END -->
    <script>window.addEventListener("load", function () { tinyUPS.initCommon(); tinyUPS.initSetup(); tinyUPS.getSurvey(); $("form[name=setup]").on("submit", function (e) { e.preventDefault(); tinyUPS.doSetup(); }); });</script>
</body>

</html>